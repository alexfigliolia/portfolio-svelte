var T=Object.defineProperty;var v=(e,t,s)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var u=(e,t,s)=>(v(e,typeof t!="symbol"?t+"":t,s),s);import{d as w,w as i}from"./index.0624fa79.js";import{g as n}from"./scheduler.c607dd8c.js";function H(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}class g{static setShrinkDuration(t){return t<957?500:700}static setFlipDuration(){return 1e3}}const b=i("Home"),h=i("100%"),m=i("100vh"),f=i(1e3),o=i(!0),D=i(!1),A=i(1500),r=i("frame shrink"),c=i("flip-controller flip-active"),x=w(f,e=>g.setShrinkDuration(e)),d=w(f,()=>g.setFlipDuration());class W{static flip(){n(r).endsWith("flip-active")||(o.update(()=>!0),r.update(()=>"frame shrink"),c.update(()=>"flip-controller flip-active"))}static enter(){r.update(()=>"frame"),c.update(()=>"flip-controller"),this.defer(()=>{o.update(()=>!1)},1e3)}static toggleMenu(){D.update(t=>!t)}static setDimensions(){f.update(()=>window.innerWidth);const t=`${window.innerHeight}px`;t!==n(m)&&m.update(()=>t);const s=`${window.innerWidth}px`;s!==n(h)&&h.update(()=>s)}static navigate(t,s){this.defer(()=>{r.update(()=>"frame shrink")},t);const a=t+n(x);this.defer(()=>{o.update(()=>!0),c.update(()=>"flip-controller flip-active")},a*.5);const l=a+n(d);this.defer(()=>{s()},l);const p=l+n(d);this.defer(()=>{r.update(()=>"frame"),c.update(()=>"flip-controller")},p),this.defer(()=>{o.update(()=>!1)},p+n(d))}static defer(t,s){const a=setTimeout(async()=>{await t(),clearTimeout(a),this.timers.delete(a)},s);this.timers.add(a)}static popTimers(){for(const t of this.timers)clearTimeout(t),this.timers.delete(t)}}u(W,"timers",new Set);export{W as A,A as a,c as b,d as c,H as e,r as f,m as h,o as l,D as m,b as p,x as s,h as w};
