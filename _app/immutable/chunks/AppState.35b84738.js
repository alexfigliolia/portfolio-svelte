var x=Object.defineProperty;var W=(s,t,e)=>t in s?x(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var u=(s,t,e)=>(W(s,typeof t!="symbol"?t+"":t,e),e);import{d as Q,w as n}from"./index.0624fa79.js";import{g as i}from"./scheduler.c607dd8c.js";function A(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}class I{static setShrinkDuration(t){return t<957?500:700}static setFlipDuration(){return 1e3}}const a=class a extends Map{constructor(){super(...arguments);u(this,"timers",new Set)}registerTask(e){const o=this.ID();this.set(o,e)}flushTasks(){for(const[e,o]of this)o(),this.delete(e)}defer(e,o){const d=setTimeout(()=>{const m=()=>{clearTimeout(d),this.timers.delete(d)},g=e();g instanceof Promise?g.then(()=>m()):m()},o);this.timers.add(d)}popTimers(){for(const e of this.timers)clearTimeout(e),this.timers.delete(e)}ID(){return(++a.AutoIncrementingID).toString()}};u(a,"AutoIncrementingID",-1);let f=a;const C=n("Home"),k=n("100%"),T=n("100vh"),p=n(1e3),c=n(!0),D=n(!1),S=n(3e3),r=n("flip-controller shrink flip-active"),w=Q(p,s=>I.setShrinkDuration(s)),h=Q(p,()=>I.setFlipDuration()),l=class l{static enter(){r.update(()=>"flip-controller shrink"),c.update(()=>!1),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller"),this.TaskQueue.defer(()=>{this.TaskQueue.flushTasks()},i(h))},1e3)}static toggleMenu(){D.update(t=>!t)}static setDimensions(){p.update(()=>window.innerWidth);const t=`${window.innerHeight}px`;t!==i(T)&&T.update(()=>t);const e=`${window.innerWidth}px`;e!==i(k)&&k.update(()=>e)}static navigate(t){let e=0;i(D)&&(l.toggleMenu(),e=800),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller shrink"),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller shrink flip-active"),c.update(()=>!0),this.TaskQueue.defer(()=>{t().then(()=>{this.TaskQueue.defer(()=>{c.update(()=>!1),r.update(()=>"flip-controller shrink"),this.TaskQueue.defer(()=>{r.update(()=>"flip-controller"),this.TaskQueue.defer(()=>{this.TaskQueue.flushTasks()},i(w))},i(h))},1e3)})},i(h))},i(w))},e)}};u(l,"TaskQueue",new f);let v=l;export{v as A,S as a,A as e,r as f,T as h,c as l,D as m,C as p,k as w};
